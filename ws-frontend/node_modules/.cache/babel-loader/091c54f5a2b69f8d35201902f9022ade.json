{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-8f18bfd8\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = {\n  \"class\": \"navbar navbar-expand-lg bg-body-tertiary\"\n};\nvar _hoisted_2 = {\n  \"class\": \"container-fluid\"\n};\n\nvar _hoisted_3 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"a\", {\n    \"class\": \"navbar-brand\",\n    href: \"#\"\n  }, \"WebShop\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_4 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"button\", {\n    \"class\": \"navbar-toggler\",\n    type: \"button\",\n    \"data-bs-toggle\": \"collapse\",\n    \"data-bs-target\": \"#navbarSupportedContent\",\n    \"aria-controls\": \"navbarSupportedContent\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\"\n  }, [/*#__PURE__*/_createElementVNode(\"span\", {\n    \"class\": \"navbar-toggler-icon\"\n  })], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_5 = {\n  \"class\": \"collapse navbar-collapse\",\n  id: \"navbarSupportedContent\"\n};\nvar _hoisted_6 = {\n  \"class\": \"navbar-nav mb-2 mb-lg-0\"\n};\nvar _hoisted_7 = {\n  \"class\": \"nav-item\"\n};\n\nvar _hoisted_8 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"li\", {\n    \"class\": \"nav-item\"\n  }, [/*#__PURE__*/_createElementVNode(\"a\", {\n    \"class\": \"nav-link\",\n    href: \"#\"\n  }, \"Korisnici\")], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_9 = {\n  key: 0\n};\nvar _hoisted_10 = {\n  \"class\": \"nav-item\"\n};\n\nvar _hoisted_11 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"form\", {\n    \"class\": \"d-flex\",\n    role: \"search\"\n  }, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_12 = {\n  \"class\": \"d-grid gap-2 d-md-flex justify-content-md-end\"\n};\n\nvar _hoisted_13 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"h2\", {\n    \"class\": \"korisnici\"\n  }, \"Korisnici\")], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_14 = {\n  \"class\": \"card-deck\"\n};\nvar _hoisted_15 = {\n  \"class\": \"card\",\n  style: {\n    \"width\": \"18rem\"\n  }\n};\n\nvar _hoisted_16 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"img\", {\n    src: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqb2nYh6MWqgWHi3Y49Ep4kg4qsp3HFpMqDQ&s\",\n    \"class\": \"card-img-top\",\n    alt: \"slika\"\n  }, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_17 = {\n  \"class\": \"card-body\"\n};\nvar _hoisted_18 = {\n  \"class\": \"card-title\"\n};\nvar _hoisted_19 = {\n  \"class\": \"card-text p-cena\"\n};\nvar _hoisted_20 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"ul\", _hoisted_6, [_createElementVNode(\"li\", _hoisted_7, [_createElementVNode(\"a\", {\n    \"class\": \"nav-link active\",\n    \"aria-current\": \"page\",\n    href: \"#\",\n    onClick: _cache[0] || (_cache[0] = function ($event) {\n      return $options.goHome();\n    })\n  }, \"Pocetna\")]), _hoisted_8, $options.isProdavac ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"li\", _hoisted_10, [_createElementVNode(\"a\", {\n    \"class\": \"nav-link\",\n    href: \"#\",\n    onClick: _cache[1] || (_cache[1] = function ($event) {\n      return $options.addProduct();\n    })\n  }, \"Dodaj proizvod\")])])) : _createCommentVNode(\"v-if\", true)]), _hoisted_11, _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"img\", {\n    onClick: _cache[2] || (_cache[2] = function ($event) {\n      return $options.updateKupac();\n    }),\n    src: \"https://cdn-icons-png.flaticon.com/256/6522/6522516.png\",\n    id: \"profile-photo\"\n  }), _createElementVNode(\"p\", {\n    id: \"log-out\",\n    onClick: _cache[3] || (_cache[3] = function ($event) {\n      return $options.logOut();\n    })\n  }, \"Log out\")])])])]), _hoisted_13, _createElementVNode(\"div\", _hoisted_14, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.korisnici, function (korisnik) {\n    return _openBlock(), _createElementBlock(\"div\", _hoisted_15, [_hoisted_16, _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"h5\", _hoisted_18, _toDisplayString(korisnik.ime) + \" \" + _toDisplayString(korisnik.prezime), 1\n    /* TEXT */\n    ), _createCommentVNode(\"<p class=\\\"card-text\\\">{{proizvod.opis}}</p> \"), _createElementVNode(\"p\", _hoisted_19, _toDisplayString(korisnik.korisnickoIme), 1\n    /* TEXT */\n    ), _createElementVNode(\"a\", {\n      href: \"#\",\n      \"class\": \"btn btn-primary\",\n      onClick: function onClick($event) {\n        return $options.seeMoreAboutUser(korisnik.korisnickoIme, korisnik.uloga);\n      }\n    }, \"Vidi još\", 8\n    /* PROPS */\n    , _hoisted_20)])]);\n  }), 256\n  /* UNKEYED_FRAGMENT */\n  ))])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","href","type","id","role","style","src","alt","_hoisted_3","_hoisted_4","onClick","$options","_hoisted_8","_createElementBlock","_hoisted_9","_hoisted_11","_hoisted_13","_Fragment","_renderList","$data","korisnik","_hoisted_16","_toDisplayString","ime","prezime","_createCommentVNode","korisnickoIme","uloga","_hoisted_20"],"sourceRoot":"","sources":["/home/ivan/Documents/Faks/Web/Projekat/project-web-in-2024-team-12/ws-frontend/src/views/KorisniciView.vue"],"sourcesContent":["<script>\nimport axios from 'axios'\n\nexport default {\n  name: \"SviProizvodiView\",\n  data() {\n    return {\n      proizvodi: [],\n      nadjeniProizvod: null,\n      searchTerm: '',\n      kategorije: [],\n      najmanjaCena: \"\",\n      najvecaCena: \"\",\n      izabranaKategorija: \"\",\n      nacinProdaje: \"\",\n      username: \"\",\n      ulogovaniKorisnik : null,\n      korisnici: [],\n    };\n  },\n  mounted() {\n    this.getProizvodi();\n    this.getKategorije();\n    this.isUserLogged();\n    this.getUsers();\n    \n  },\n  methods: {\n    getProizvodi() {\n      axios.get('http://localhost:8081/api/products', {withCredentials: true})\n      .then((response) => {\n        this.proizvodi = response.data;\n      })\n      .catch((error) => {\n        console.log(error);\n        alert(error.message);\n      });\n    },\n    getUsers() {\n      axios.get('http://localhost:8081/api/korisnici', {withCredentials: true})\n      .then((response) => {\n        this.korisnici = response.data;\n      })\n      .catch((error) => {\n        console.log(error);\n        alert(error.message);\n      });\n    },\n    getKategorije() {\n      axios.get('http://localhost:8081/api/kategorije', {withCredentials: true})\n      .then((response) => {\n        this.kategorije = response.data;\n      })\n      .catch((error) => {\n        console.log(error);\n        alert(error.message);\n      });\n    },\n\n    search: function () {\n      if(this.searchTerm === \"\"){\n        this.getProizvodi();\n\n      } else{\n        axios\n        .get(\"http://localhost:8081/api/search-products/\"+ this.searchTerm, { withCredentials: true })\n        .then((response) => {\n        this.proizvodi = response.data;\n        \n      })\n        .catch((err) => {\n        console.log(err);\n        alert(\"Something went wrong!\");\n      });\n\n      }\n     \n    },\n    isProdavac: function(){\n      if(JSON.parse(localStorage.getItem(\"loggedUser\")).uloga == \"PRODAVAC\"){\n        console.log(\"true\");\n        return true;\n      }\n      else{\n        console.log(\"false\");\n\n        return false;\n      }\n    },\n    addProduct: function () {\n      this.$router.push(\"/api/prodavac/add-product/\" + JSON.parse(localStorage.getItem(\"loggedUser\")).korisnickoIme);\n    },\n\n    filter: function () {\n      if(this.najmanjaCena == \"\"){\n        this.najmanjaCena = -1;\n      }\n      if(this.najvecaCena == \"\"){\n        this.najvecaCena = -1;\n      }\n      if(this.izabranaKategorija == \"\"){\n        this.izabranaKategorija = -1;\n      }\n      if(this.nacinProdaje == \"\"){\n        this.nacinProdaje = -1;\n      }\n\n      \n      axios\n        .get(`http://localhost:8081/api/filter-products?cenaOd=${this.najmanjaCena}&cenaDo=${this.najvecaCena}&kategorija=${this.izabranaKategorija}&tipProdaje=${this.nacinProdaje}`, { withCredentials: true })\n        .then((response) => {\n        this.proizvodi = response.data;\n        \n      })\n        .catch((err) => {\n        console.log(err);\n        alert(\"Something went wrong!\");\n      });\n\n      \n     \n    },\n    seeMore: function (id) {\n      this.$router.push(\"/api/kupac/products/\" + id);\n    },\n    login: function () {\n      this.$router.push(\"/api/login\");\n    },\n    register: function () {\n      this.$router.push(\"/api/register\");\n    },\n    goHome: function () {\n      this.$router.push(\"/api/home\");\n    },\n    updateKupac: function () {\n      this.$router.push(\"/api/kupac/update/\"+JSON.parse(localStorage.getItem(\"loggedUser\")).korisnickoIme);\n    },\n    logOut: function () {\n      localStorage.removeItem('loggedUser');\n      this.ulogovaniKorisnik = null;\n     \n\n      alert(\"Uspesno ste se odjavili!\");\n      this.$router.push('/api/home');\n    },\n    checkSession: function () {\n     \n      axios\n        .get(`http://localhost:8081/api/check-session`, { withCredentials: true })\n        .then((response) => {\n        alert(response.data.korisnickoIme)\n        \n      })\n        .catch((err) => {\n        console.log(err);\n        alert(err.response.data);\n      });\n      \n\n      \n    },\n    isUserLogged: function () {\n      if (localStorage.getItem('loggedUser') == null) {\n        this.$router.push('/api/home');\n      }\n      \n    },\n    seeMoreAboutUser: function(korisnickoIme, uloga){\n        this.$router.push(\"/api/korisnik/view-more/\"+korisnickoIme);\n      \n    }\n  }\n};\n</script>\n\n<template>\n  <nav class=\"navbar navbar-expand-lg bg-body-tertiary\">\n    <div class=\"container-fluid\">\n      <a class=\"navbar-brand\" href=\"#\">WebShop</a>\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav mb-2 mb-lg-0\">\n          <li class=\"nav-item\">\n            <a class=\"nav-link active\" aria-current=\"page\" href=\"#\" v-on:click=\"goHome()\">Pocetna</a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\">Korisnici</a>\n          </li>\n          <div v-if=\"isProdavac\">\n            <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\" v-on:click=\"addProduct()\">Dodaj proizvod</a>\n          </li>\n          </div>\n        </ul>\n        <form class=\"d-flex\" role=\"search\">\n          \n        </form>\n        <div class=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n         <img v-on:click=\"updateKupac()\" src=\"https://cdn-icons-png.flaticon.com/256/6522/6522516.png\" id=\"profile-photo\">\n         <p id=\"log-out\" v-on:click=\"logOut()\">Log out</p>\n        </div>\n      </div>\n    </div>\n  </nav>\n\n \n\n  <div><h2 class=\"korisnici\">Korisnici</h2></div>\n  <div class=\"card-deck\">\n    <div v-for=\"korisnik in korisnici\" class=\"card \" style=\"width: 18rem;\">\n      <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqb2nYh6MWqgWHi3Y49Ep4kg4qsp3HFpMqDQ&s\" class=\"card-img-top\" alt=\"slika\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">{{korisnik.ime}} {{korisnik.prezime}} </h5>\n        <!--<p class=\"card-text\">{{proizvod.opis}}</p> -->\n        <p class=\"card-text p-cena\">{{korisnik.korisnickoIme}}</p>\n        <a href=\"#\" class=\"btn btn-primary\" v-on:click=\"seeMoreAboutUser(korisnik.korisnickoIme, korisnik.uloga)\">Vidi još</a>\n      </div>\n    </div>\n  </div>\n\n  \n</template>\n\n<style scoped>\n\n#loginBtn {\n  background-color: #858585;\n  border-color: #858585;\n}\n\n#loginBtn:hover {\n  background-color: #3e4240;\n}\n\n#registerBtn {\n  background-color: #858585;\n  border-color: #858585;\n}\n\n#registerBtn:hover {\n  background-color: #3e4240;\n}\n\n.card-deck {\n  display: flex;\n  height: fit-content;\n  flex-wrap: wrap;\n  align-items: stretch;\n  text-align: left;\n}\n\n.card {\n  display: inline-block;\n  padding: 5px;\n  margin: 0.5%;\n}\n\n.card-text {\n  height: 50px;\n}\n\n.card-img-top {\n  width: 100%;\n}\n.btn-primary {\n  background-color: #6a716e;\n  border-color: #7f7f7f;\n}\n\n.btn-primary:hover {\n  background-color: #12613e;\n}\n\n.d-flex {\n  margin-right: auto;\n}\n\n.mt-5 {\n  width: 15%;\n  height: 100%;\n  position: fixed;\n  display:block;\n  margin-left: 50px;\n  margin-right: 50px;\n\n \n  \n\n}\n.card-deck {\n  \n  display: inline-block;\n  width: 70%;\n  margin-left: 300px;\n  \n}\n#profile-photo{\n    width: 15%;\n    margin-right: 30px;\n}\n\n\nfooter {\n  margin-top: 5%;\n}\n\n.p-cena {\n  text-align: center;\n}\n\n#log-out{\n  margin-right:20px;\n  margin-left: 10px;\n  margin-top: auto;\n}\n</style>"]},"metadata":{},"sourceType":"module"}