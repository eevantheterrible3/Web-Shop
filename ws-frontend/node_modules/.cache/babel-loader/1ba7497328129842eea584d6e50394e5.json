{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: \"ViewMoreView\",\n  data: function data() {\n    return {\n      proizvod: null\n    };\n  },\n  mounted: function mounted() {\n    this.fetchProizvod();\n  },\n  methods: {\n    fetchProizvod: function fetchProizvod() {\n      var _this = this;\n\n      var id = this.$route.params.id;\n      axios.get(\"http://localhost:8081/api/products/\".concat(id), {\n        withCredentials: true\n      }).then(function (response) {\n        _this.proizvod = response.data;\n      })[\"catch\"](function (error) {\n        console.log(error);\n        alert(\"Ne postoji proizvod sa tim ID-em\");\n      });\n    },\n    login: function login() {\n      this.$router.push(\"/api/login\");\n    },\n    register: function register() {\n      this.$router.push(\"/api/register\");\n    },\n    goHome: function goHome() {\n      this.$router.push(\"/api/home\");\n    },\n    vidiProdavca: function vidiProdavca() {\n      this.$router.push(\"/api/prodavac/proizvod/\" + this.$route.params.id);\n    },\n    search: function search() {\n      var _this2 = this;\n\n      if (this.searchTerm === \"\") {\n        this.getProizvodi();\n      } else {\n        axios.get(\"http://localhost:8081/api/search-products/\" + this.searchTerm, {\n          withCredentials: true\n        }).then(function (response) {\n          _this2.proizvodi = response.data;\n        })[\"catch\"](function (err) {\n          console.log(err);\n          alert(\"Something went wrong!\");\n        });\n      }\n    },\n    isUserLogged: function isUserLogged() {\n      if (localStorage.getItem('loggedUser') == null) {} else {\n        var korisnik = JSON.parse(localStorage.getItem('loggedUser'));\n\n        if (korisnik.uloga == 'KUPAC') {\n          this.$router.push('/api/kupac/home/' + korisnik.korisnickoIme);\n        } else if (korisnik.uloga == 'PRODAVAC') {\n          this.$router.push('/prodavac_view');\n        } else {\n          this.$router.push('/administrator_view');\n        }\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AAyCE,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;EACbC,IAAI,EAAE,cADO;EAEbC,IAFa,kBAEN;IACL,OAAO;MACLC,QAAQ,EAAE;IADL,CAAP;EAGD,CANY;EAObC,OAPa,qBAOH;IACR,KAAKC,aAAL;EACD,CATY;EAUbC,OAAO,EAAE;IACLD,aADK,2BACW;MAAA;;MACZ,IAAME,EAAC,GAAI,KAAKC,MAAL,CAAYC,MAAZ,CAAmBF,EAA9B;MACAP,KAAK,CAACU,GAAN,8CAAgDH,EAAhD,GAAsD;QAAEI,eAAe,EAAE;MAAnB,CAAtD,EACKC,IADL,CACU,UAACC,QAAD,EAAc;QAChB,KAAI,CAACV,QAAL,GAAgBU,QAAQ,CAACX,IAAzB;MACH,CAHL,WAIW,UAACY,KAAD,EAAW;QACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;QACAG,KAAK,CAAC,kCAAD,CAAL;MACH,CAPL;IAQL,CAXM;IAYPC,KAAK,EAAE,iBAAY;MACnB,KAAKC,OAAL,CAAaC,IAAb,CAAkB,YAAlB;IACD,CAdQ;IAeTC,QAAQ,EAAE,oBAAY;MACpB,KAAKF,OAAL,CAAaC,IAAb,CAAkB,eAAlB;IACD,CAjBQ;IAkBTE,MAAM,EAAE,kBAAY;MAClB,KAAKH,OAAL,CAAaC,IAAb,CAAkB,WAAlB;IACD,CApBQ;IAqBTG,YAAY,EAAE,wBAAY;MACxB,KAAKJ,OAAL,CAAaC,IAAb,CAAkB,4BAA0B,KAAKZ,MAAL,CAAYC,MAAZ,CAAmBF,EAA/D;IACD,CAvBQ;IAwBTiB,MAAM,EAAE,kBAAY;MAAA;;MAClB,IAAG,KAAKC,UAAL,KAAoB,EAAvB,EAA0B;QACxB,KAAKC,YAAL;MAEF,CAHA,MAGM;QACJ1B,KAAI,CACHU,GADD,CACK,+CAA8C,KAAKe,UADxD,EACoE;UAAEd,eAAe,EAAE;QAAnB,CADpE,EAECC,IAFD,CAEM,UAACC,QAAD,EAAc;UACpB,MAAI,CAACc,SAAL,GAAiBd,QAAQ,CAACX,IAA1B;QAED,CALC,WAMO,UAAC0B,GAAD,EAAS;UAChBb,OAAO,CAACC,GAAR,CAAYY,GAAZ;UACAX,KAAK,CAAC,uBAAD,CAAL;QACD,CATC;MAWF;IAED,CA1CQ;IA2CTY,YAAY,EAAE,wBAAY;MACxB,IAAIC,YAAY,CAACC,OAAb,CAAqB,YAArB,KAAsC,IAA1C,EAAgD,CAEhD,CAFA,MAGK;QACH,IAAMC,QAAO,GAAIC,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,CAAjB;;QACA,IAAIC,QAAQ,CAACG,KAAT,IAAkB,OAAtB,EAA+B;UAC7B,KAAKhB,OAAL,CAAaC,IAAb,CAAkB,qBAAmBY,QAAQ,CAACI,aAA9C;QACF,CAFA,MAGK,IAAIJ,QAAQ,CAACG,KAAT,IAAkB,UAAtB,EAAkC;UACrC,KAAKhB,OAAL,CAAaC,IAAb,CAAkB,gBAAlB;QACF,CAFK,MAGA;UACH,KAAKD,OAAL,CAAaC,IAAb,CAAkB,qBAAlB;QACF;MACF;IACD;EA3DQ;AAVI,CAAf","names":["axios","name","data","proizvod","mounted","fetchProizvod","methods","id","$route","params","get","withCredentials","then","response","error","console","log","alert","login","$router","push","register","goHome","vidiProdavca","search","searchTerm","getProizvodi","proizvodi","err","isUserLogged","localStorage","getItem","korisnik","JSON","parse","uloga","korisnickoIme"],"sourceRoot":"","sources":["/home/ivan/Documents/Faks/Web/Projekat/project-web-in-2024-team-12/ws-frontend/src/views/ViewMoreView.vue"],"sourcesContent":["<template>\n    <nav class=\"navbar navbar-expand-lg bg-body-tertiary\">\n    <div class=\"container-fluid\">\n      <a class=\"navbar-brand\" href=\"#\">WebShop</a>\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav mb-2 mb-lg-0\">\n          <li class=\"nav-item\">\n            <a class=\"nav-link active\" aria-current=\"page\" href=\"#\" v-on:click=\"goHome()\">Pocetna</a>\n          </li>\n       \n        </ul>\n        <form class=\"d-flex\" role=\"search\" @submit.prevent=\"search\">\n          \n        </form>\n        <div class=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n          <button id=\"loginBtn\" class=\"btn btn-primary me-md-2\" style=\"margin-left: 40px\" type=\"button\" v-on:click=\"login()\">Login</button>\n          <button id=\"registerBtn\" class=\"btn btn-primary\" type=\"button\" v-on:click=\"register()\">Register</button>\n        </div>\n      </div>\n    </div>\n  </nav>\n    <div v-if=\"proizvod\">\n      <h1 class=\"nazivProizvoda\">{{ proizvod.naziv }}</h1>\n      <img :src=\"proizvod.slika\" alt=\"slika proizvoda\" class=\"product-image\">\n      <p v-on:click=\"vidiProdavca()\">Profil prodavca</p>\n      <p><strong>{{ proizvod.opis }}</strong></p>\n      <ul>\n        <li><strong>Cena:</strong> {{ proizvod.cena }} RSD</li>\n        <li><strong>Kategorija:</strong> {{ proizvod.kategorija.naziv }}</li>\n        <li><strong>Tip prodaje:</strong> {{ proizvod.tipProdaje }}</li>\n      </ul>\n    </div>\n    <div v-else>\n      <p>Proizvod se uƒçitava ili ne postoji.</p>\n    </div>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    name: \"ViewMoreView\",\n    data() {\n      return {\n        proizvod: null\n      };\n    },\n    mounted() {\n      this.fetchProizvod();\n    },\n    methods: {\n        fetchProizvod() {\n            const id = this.$route.params.id;\n            axios.get(`http://localhost:8081/api/products/${id}`, { withCredentials: true })\n                .then((response) => {\n                    this.proizvod = response.data;\n                })\n                .catch((error) => {\n                    console.log(error);\n                    alert(\"Ne postoji proizvod sa tim ID-em\");\n                });\n      },\n      login: function () {\n      this.$router.push(\"/api/login\");\n    },\n    register: function () {\n      this.$router.push(\"/api/register\");\n    },\n    goHome: function () {\n      this.$router.push(\"/api/home\");\n    },\n    vidiProdavca: function () {\n      this.$router.push(\"/api/prodavac/proizvod/\"+this.$route.params.id);\n    },\n    search: function () {\n      if(this.searchTerm === \"\"){\n        this.getProizvodi();\n\n      } else{\n        axios\n        .get(\"http://localhost:8081/api/search-products/\"+ this.searchTerm, { withCredentials: true })\n        .then((response) => {\n        this.proizvodi = response.data;\n        \n      })\n        .catch((err) => {\n        console.log(err);\n        alert(\"Something went wrong!\");\n      });\n\n      }\n     \n    },\n    isUserLogged: function () {\n      if (localStorage.getItem('loggedUser') == null) {\n        \n      }\n      else {\n        const korisnik = JSON.parse(localStorage.getItem('loggedUser'));\n        if (korisnik.uloga == 'KUPAC') {\n          this.$router.push('/api/kupac/home/'+korisnik.korisnickoIme);\n        }\n        else if (korisnik.uloga == 'PRODAVAC') {\n          this.$router.push('/prodavac_view');\n        }\n        else {\n          this.$router.push('/administrator_view');\n        }\n      }\n    },\n    }\n  };\n  </script>\n  \n  <style scoped>\n  ul li{\n    list-style-type: none;\n    padding: 0;\n    margin: 0;\n  }\n  .product-image {\n    max-width: 100%;\n    height: auto;\n  }\n  .nazivProizvoda{\n    padding: 15px;\n  }\n\n  #loginBtn {\n  background-color: #858585;\n  border-color: #858585;\n}\n\n#loginBtn:hover {\n  background-color: #3e4240;\n}\n\n#registerBtn {\n  background-color: #858585;\n  border-color: #858585;\n}\n\n#registerBtn:hover {\n  background-color: #3e4240;\n}\n\n.d-flex {\n  margin-right: auto;\n}\n.navbar{\n  padding-top: 16px;\n  padding-bottom: 16px;\n}\n  </style>"]},"metadata":{},"sourceType":"module"}