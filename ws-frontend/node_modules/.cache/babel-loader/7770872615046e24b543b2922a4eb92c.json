{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-312f7027\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = {\n  \"class\": \"navbar navbar-expand-lg bg-body-tertiary\"\n};\nvar _hoisted_2 = {\n  \"class\": \"container-fluid\"\n};\n\nvar _hoisted_3 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"a\", {\n    \"class\": \"navbar-brand\",\n    href: \"#\"\n  }, \"WebShop\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_4 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"button\", {\n    \"class\": \"navbar-toggler\",\n    type: \"button\",\n    \"data-bs-toggle\": \"collapse\",\n    \"data-bs-target\": \"#navbarSupportedContent\",\n    \"aria-controls\": \"navbarSupportedContent\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\"\n  }, [/*#__PURE__*/_createElementVNode(\"span\", {\n    \"class\": \"navbar-toggler-icon\"\n  })], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_5 = {\n  \"class\": \"collapse navbar-collapse\",\n  id: \"navbarSupportedContent\"\n};\nvar _hoisted_6 = {\n  \"class\": \"navbar-nav mb-2 mb-lg-0\"\n};\nvar _hoisted_7 = {\n  \"class\": \"nav-item\"\n};\n\nvar _hoisted_8 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"li\", {\n    \"class\": \"nav-item\"\n  }, [/*#__PURE__*/_createElementVNode(\"a\", {\n    \"class\": \"nav-link\",\n    href: \"#\"\n  }, \"Link\")], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_9 = {\n  \"class\": \"d-grid gap-2 d-md-flex justify-content-md-end\"\n};\nvar _hoisted_10 = {\n  key: 0\n};\nvar _hoisted_11 = {\n  \"class\": \"nazivProizvoda\"\n};\nvar _hoisted_12 = [\"src\"];\n\nvar _hoisted_13 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"strong\", null, \"Cena:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_14 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"strong\", null, \"Kategorija:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_15 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"strong\", null, \"Tip prodaje:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_16 = {\n  key: 1\n};\n\nvar _hoisted_17 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"p\", null, \"Proizvod se uƒçitava ili ne postoji.\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_18 = [_hoisted_17];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"ul\", _hoisted_6, [_createElementVNode(\"li\", _hoisted_7, [_createElementVNode(\"a\", {\n    \"class\": \"nav-link active\",\n    \"aria-current\": \"page\",\n    href: \"#\",\n    onClick: _cache[0] || (_cache[0] = function ($event) {\n      return $options.goHome();\n    })\n  }, \"Pocetna\")]), _hoisted_8]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"img\", {\n    onClick: _cache[1] || (_cache[1] = function ($event) {\n      return $options.updateKupac();\n    }),\n    src: \"https://cdn-icons-png.flaticon.com/256/6522/6522516.png\",\n    id: \"profile-photo\"\n  }), _createElementVNode(\"p\", {\n    id: \"log-out\",\n    onClick: _cache[2] || (_cache[2] = function ($event) {\n      return $options.logOut();\n    })\n  }, \"Log out\")])])])]), $data.proizvod ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createElementVNode(\"h1\", _hoisted_11, _toDisplayString($data.proizvod.naziv), 1\n  /* TEXT */\n  ), _createElementVNode(\"img\", {\n    src: $data.proizvod.slika,\n    alt: \"slika proizvoda\",\n    \"class\": \"product-image\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_12), _createElementVNode(\"p\", {\n    onClick: _cache[3] || (_cache[3] = function ($event) {\n      return $options.vidiProdavca();\n    })\n  }, \"Profil prodavca\"), _createElementVNode(\"p\", null, [_createElementVNode(\"strong\", null, _toDisplayString($data.proizvod.opis), 1\n  /* TEXT */\n  )]), _createElementVNode(\"ul\", null, [_createElementVNode(\"li\", null, [_hoisted_13, _createTextVNode(\" \" + _toDisplayString($data.proizvod.cena) + \" RSD\", 1\n  /* TEXT */\n  )]), _createElementVNode(\"li\", null, [_hoisted_14, _createTextVNode(\" \" + _toDisplayString($data.proizvod.kategorija.naziv), 1\n  /* TEXT */\n  )]), _createElementVNode(\"li\", null, [_hoisted_15, _createTextVNode(\" \" + _toDisplayString($data.proizvod.tipProdaje), 1\n  /* TEXT */\n  )])]), _createCommentVNode(\" <div v-if=\\\"proizvod.tipProdaje == 'FIKSNACENA'\\\" id=\\\"div-fiksna\\\">\\n         <button class=\\\"btn btn-primary\\\" id=\\\"btn-fiksna\\\" v-on:click=\\\"kupiFiksna()\\\">Kupi</button>\\n       </div>\\n       <div id=\\\"aukcija\\\" v-else>\\n         <div class=\\\"col-md-6\\\">\\n             <label for=\\\"inputNajvecaCena\\\" class=\\\"form-label\\\">Najveca ponuda</label>\\n             <input disabled=\\\"true\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputNajvecaCena\\\" v-model=\\\"najvecaPonuda\\\">\\n         </div>\\n         <div class=\\\"col-md-6\\\">\\n             <label for=\\\"inputPonuda\\\" class=\\\"form-label\\\">Ponuda</label>\\n             <input type=\\\"number\\\" class=\\\"form-control\\\" id=\\\"inputPonuda\\\" v-model=\\\"vrednostPonude\\\">\\n             <button class=\\\"btn btn-primary\\\" id=\\\"btn-aukcija\\\" v-on:click=\\\"ponudi()\\\" >Ponudi</button>\\n         </div> \")])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_16, _hoisted_18))], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","href","type","id","_hoisted_17","_hoisted_3","_hoisted_4","onClick","$options","_hoisted_8","src","$data","_createElementBlock","_hoisted_10","_toDisplayString","naziv","slika","alt","opis","_hoisted_13","cena","_hoisted_14","kategorija","_hoisted_15","tipProdaje","_createCommentVNode","_hoisted_16","_hoisted_18"],"sourceRoot":"","sources":["/home/ivan/Documents/Faks/Web/Projekat/project-web-in-2024-team-12/ws-frontend/src/views/ProdavacViewMoreView.vue"],"sourcesContent":["<template>\n    <nav class=\"navbar navbar-expand-lg bg-body-tertiary\">\n     <div class=\"container-fluid\">\n       <a class=\"navbar-brand\" href=\"#\">WebShop</a>\n       <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n         <span class=\"navbar-toggler-icon\"></span>\n       </button>\n       <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n         <ul class=\"navbar-nav mb-2 mb-lg-0\">\n           <li class=\"nav-item\">\n             <a class=\"nav-link active\" aria-current=\"page\" href=\"#\" v-on:click=\"goHome()\">Pocetna</a>\n           </li>\n           <li class=\"nav-item\">\n             <a class=\"nav-link\" href=\"#\">Link</a>\n           </li>\n         </ul>\n        \n         <div class=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n          <img v-on:click=\"updateKupac()\" src=\"https://cdn-icons-png.flaticon.com/256/6522/6522516.png\" id=\"profile-photo\">\n          <p id=\"log-out\" v-on:click=\"logOut()\">Log out</p>\n         </div>\n       </div>\n     </div>\n   </nav>\n     <div v-if=\"proizvod\">\n       <h1 class=\"nazivProizvoda\">{{ proizvod.naziv }}</h1>\n       <img :src=\"proizvod.slika\" alt=\"slika proizvoda\" class=\"product-image\">\n       <p v-on:click=\"vidiProdavca()\">Profil prodavca</p>\n       <p><strong>{{ proizvod.opis }}</strong></p>\n       <ul>\n         <li><strong>Cena:</strong> {{ proizvod.cena }} RSD</li>\n         <li><strong>Kategorija:</strong> {{ proizvod.kategorija.naziv }}</li>\n         <li><strong>Tip prodaje:</strong> {{ proizvod.tipProdaje }}</li>\n       </ul>\n       <!-- <div v-if=\"proizvod.tipProdaje == 'FIKSNACENA'\" id=\"div-fiksna\">\n         <button class=\"btn btn-primary\" id=\"btn-fiksna\" v-on:click=\"kupiFiksna()\">Kupi</button>\n       </div>\n       <div id=\"aukcija\" v-else>\n         <div class=\"col-md-6\">\n             <label for=\"inputNajvecaCena\" class=\"form-label\">Najveca ponuda</label>\n             <input disabled=\"true\" type=\"text\" class=\"form-control\" id=\"inputNajvecaCena\" v-model=\"najvecaPonuda\">\n         </div>\n         <div class=\"col-md-6\">\n             <label for=\"inputPonuda\" class=\"form-label\">Ponuda</label>\n             <input type=\"number\" class=\"form-control\" id=\"inputPonuda\" v-model=\"vrednostPonude\">\n             <button class=\"btn btn-primary\" id=\"btn-aukcija\" v-on:click=\"ponudi()\" >Ponudi</button>\n         </div> -->\n \n       \n     </div>\n     <div v-else>\n       <p>Proizvod se uƒçitava ili ne postoji.</p>\n     </div>\n   </template>\n   \n   <script>\n   import axios from 'axios';\n   \n   export default {\n     name: \"ViewMoreView\",\n     data() {\n       return {\n         proizvod: null,\n         najvecaPonuda : 0,\n         vrednostPonude : 0,\n         ponuda : {},\n       };\n     },\n     mounted() {\n       this.fetchProizvod();\n       this.isUserLogged();\n       \n     },\n     methods: {\n         fetchProizvod() {\n             const id = this.$route.params.id;\n             axios.get(`http://localhost:8081/api/products/${id}`, { withCredentials: true })\n                 .then((response) => {\n                     this.proizvod = response.data;\n                    \n                     for(let ponuda of this.proizvod.ponude){\n                         console.log(ponuda.cena);\n                         if(ponuda.cena > this.najvecaPonuda){\n                             this.najvecaPonuda = ponuda.cena;\n                         }\n                     }\n                    console.log(response.data);\n                 })\n                 .catch((error) => {\n                     console.log(error);\n                     //alert(error.data);\n                 });\n       },\n       login: function () {\n       this.$router.push(\"/api/login\");\n     },\n     register: function () {\n       this.$router.push(\"/api/register\");\n     },\n     goHome: function () {\n       this.$router.push(\"/api/home\");\n     },\n     vidiProdavca: function () {\n       this.$router.push(\"/api/prodavac/prodavac/proizvod/\"+this.$route.params.id);\n     },\n     \n     updateKupac: function () {\n       const korisnik = JSON.parse(localStorage.getItem('loggedUser'));\n       this.$router.push(\"/api/kupac/update/\"+korisnik.korisnickoIme);\n     },\n     checkSession: function () {\n      \n      axios\n        .get(`http://localhost:8081/api/check-session`, { withCredentials: true })\n        .then((response) => {\n        console.log(response.data);\n        \n      })\n        .catch((err) => {\n        console.log(err);\n        alert(err.response.data);\n      });\n      \n \n      \n    },\n \n    ponudi: function(){\n     const logovani = JSON.parse(localStorage.getItem(\"loggedUser\"));\n     console.log(this.vrednostPonude);\n         axios\n         .post(\"http://localhost:8081/api/proizvod-aukcija/\"+ this.proizvod.id+\"?ponuda=\"+this.vrednostPonude, logovani, { withCredentials: true })\n         .then((response) => {\n         alert(response.data);\n         \n       })\n         .catch((err) => {\n         console.log(err);\n         alert(err.response.data);\n       });\n \n    },\n     logOut: function () {\n       localStorage.removeItem('loggedUser');\n       this.ulogovaniKorisnik = null;\n       alert(\"Uspesno ste se odjavili!\");\n       this.$router.push('/api/home');\n     },\n     isUserLogged: function () {\n      if (localStorage.getItem('loggedUser') == null) {\n        this.$router.push('/api/home');\n      }\n      else {\n        const korisnik = JSON.parse(localStorage.getItem('loggedUser'));\n        if (korisnik.uloga == 'PRODAVAC') {\n          \n        }\n        else if (korisnik.uloga == 'KUPAC') {\n          this.$router.push('/kupac/home/'+korisnik.korisnickoIme);\n        }\n        else {\n          this.$router.push('/administrator_view');\n        }\n      }\n    },\n     kupiFiksna: function (){\n       const logovani = JSON.parse(localStorage.getItem(\"loggedUser\"));\n         axios\n         .post(\"http://localhost:8081/api/proizvod-fiksnacena/\"+ this.proizvod.id, logovani, { withCredentials: true })\n         .then((response) => {\n         alert(response.data);\n         \n       })\n         .catch((err) => {\n         console.log(err);\n         alert(err.response.data);\n       });\n \n     }\n     }\n   };\n   </script>\n   \n   <style scoped>\n   ul li{\n     list-style-type: none;\n     padding: 0;\n     margin: 0;\n   }\n   .product-image {\n     max-width: 100%;\n     height: auto;\n   }\n   .nazivProizvoda{\n     padding: 15px;\n   }\n \n   #loginBtn {\n   background-color: #858585;\n   border-color: #858585;\n }\n \n #loginBtn:hover {\n   background-color: #3e4240;\n }\n \n #registerBtn {\n   background-color: #858585;\n   border-color: #858585;\n }\n \n #registerBtn:hover {\n   background-color: #3e4240;\n }\n \n .d-flex {\n   margin-right: auto;\n }\n \n #profile-photo{\n     width: 15%;\n     margin-right: 30px;\n     \n }\n #div-aukcija{\n margin: auto;\n }\n \n .mt-5 {\n   width: 15%;\n   height: 100%;\n   position: fixed;\n   display:block;\n   margin-left: 50px;\n   margin-right: 50px;\n \n  \n   \n \n }\n \n .justify-content-md-end{\n     margin-left: auto;\n     margin-right: 50px;\n }\n \n #log-out{\n     margin-top: auto;\n }\n \n .col-md-6{\n     margin: auto;\n     margin-top: 30px;\n     margin-bottom: 30px;\n }\n \n #btn-aukcija{\n     margin-top: 30px;\n }\n   </style>"]},"metadata":{},"sourceType":"module"}